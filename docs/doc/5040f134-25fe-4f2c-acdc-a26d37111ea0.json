{
    "summary": "The code repository features a PaddlePaddle implementation of Table Tennis action recognition with the VideoSwinTransformer model, supporting feature extraction, classification, single/multi-GPU training, and pre-trained models. Running prediction generates gif files overlaid with predictions, while optimization can be done by adjusting sampling parameters or hyperparameters.",
    "details": [
        {
            "comment": "This code repository contains a PaddlePaddle implementation of Table Tennis action recognition using the VideoSwinTransformer model. The code is based on PaddlePaddle 2.2, and the training data should be placed in the \"data\" directory. It includes steps for image feature extraction and action classification using SwinTransformer3D and I3DHead respectively. Training can be done with single or multi-GPU configurations.",
            "location": "\"/media/root/Prima/works/PaddleVideo/docs/src/applications/TableTennis/ActionRecognition/README.md\":0-42",
            "content": "# \u4e52\u4e53\u7403\u52a8\u4f5c\u8bc6\u522b\u6a21\u578b\n## \u5185\u5bb9\n- [\u6a21\u578b\u7b80\u4ecb](#\u6a21\u578b\u7b80\u4ecb)\n- [\u6570\u636e\u51c6\u5907](#\u6570\u636e\u51c6\u5907)\n- [\u6a21\u578b\u8bad\u7ec3](#\u6a21\u578b\u8bad\u7ec3)\n- [\u6a21\u578b\u63a8\u7406](#\u6a21\u578b\u63a8\u7406)\n- [\u6a21\u578b\u4f18\u5316](#\u6a21\u578b\u4f18\u5316)\n- [\u6a21\u578b\u90e8\u7f72](#\u6a21\u578b\u90e8\u7f72)\n- [\u53c2\u8003\u8bba\u6587](#\u53c2\u8003\u8bba\u6587)\n\u5728\u5f00\u59cb\u4f7f\u7528\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u6309\u7167\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\u989d\u5916\u7684\u4f9d\u8d56\u5305\uff1a\n```bash\npython -m pip install imageio\n```\n## \u6a21\u578b\u7b80\u4ecb\n\u8be5\u4ee3\u7801\u5e93\u7528\u4e8e\u4e52\u4e53\u7403\u52a8\u4f5c\u8bc6\u522b, \u57fa\u4e8epaddle2.2\u7248\u672c\u5f00\u53d1\uff0c\u7ed3\u5408PaddleVideo\u4e2d\u7684VideoSwinTransformer\u6a21\u578b\uff0c\u5bf9\u7ed9\u5b9a\u7684\u4e52\u4e53\u7403\u89c6\u9891\u8fdb\u884c\u52a8\u4f5c\u5206\u7c7b\u3002\n\u4e3b\u8981\u5206\u4e3a\u5982\u4e0b\u51e0\u6b65\n - \u56fe\u50cf\u7279\u5f81\u62bd\u53d6\uff0cSwinTransformer3D\n - \u52a8\u4f5c\u5206\u7c7b\uff0cI3DHead\n## \u6570\u636e\u51c6\u5907\nTODO\n## \u6a21\u578b\u8bad\u7ec3\n\u4e3b\u8981\u4ee3\u7801\u6765\u81eaVideoSwin\u6a21\u578b\uff1a[VideoSwin](../../../docs/zh-CN/model_zoo/recognition/videoswin.md)\n1. \u4f7f\u7528VideoSwin\u5728K400\u4e0a\u7684\u9884\u8bad\u7ec3\u6a21\u578b\u57fa\u7840\u4e0a\u8fdb\u884cfinetune\uff0c\u56e0\u6b64\u9996\u5148\u4e0b\u8f7dK400\u7684\u9884\u8bad\u7ec3\u6a21\u578b\u5e76\u653e\u7f6e\u5230`data`\u76ee\u5f55\u4e0b\n    ```bash\n    wget -P data/ https://videotag.bj.bcebos.com/PaddleVideo-release2.2/VideoSwin_k400.pdparams\n    ```\n2. \u4f7f\u7528`TableTennis/ActionRecognition/configs/videoswin_tabletennis.yaml`\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u8bad\u7ec3\n    \u8bad\u7ec3\u542f\u52a8\u547d\u4ee4\u5982\u4e0b\uff1a\n    ```bash\n    # \u5355\u5361\n    python3.7 -u main.py --amp --validate -c applications/TableTennis/ActionRecognition/configs/videoswin_tabletennis.yaml\n    # \u591a\u5361\n    python3.7 -u -B -m paddle.distributed.launch --gpus=\"0,1,2,3,4,5,6,7\" --log_dir=log_videoswin_tabletennis main.py --amp --validate -c applications/TableTennis/ActionRecognition/configs/videoswin_tabletennis.yaml"
        },
        {
            "comment": "This code snippet is for training and testing the VideoSwin transformer model on the TableTennis dataset using PaddlePaddle. It provides instructions to download pre-trained models and example input video files, and demonstrates how to export an inference model using the provided config file and model parameters.",
            "location": "\"/media/root/Prima/works/PaddleVideo/docs/src/applications/TableTennis/ActionRecognition/README.md\":43-65",
            "content": "    ```\n## \u6a21\u578b\u8bc4\u4f30\n```bash\npython3.7 -B -m paddle.distributed.launch --gpus=\"0,1,2,3,4,5,6,7\"  --log_dir=log_videoswin_tabletennis  main.py  --test -c configs/recognition/video_swin_transformer/videoswin_tabletennis.yaml -w \"output/VideoSwin_TableTennis/VideoSwin_TableTennis_best.pdparams\"\n```\n## \u6a21\u578b\u63a8\u7406\n\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5728\u4e52\u4e53\u7403\u6570\u636e\u96c6\u4e0a\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u4ee5\u53ca\u4e00\u4e2a\u4e52\u4e53\u7403\u6837\u4f8b\u7684\u89c6\u9891pkl\u6587\u4ef6\uff0c\u4ee5\u4f9b\u6d4b\u8bd5\n```\nwget -P data/ https://videotag.bj.bcebos.com/PaddleVideo-release2.2/VideoSwin_tennis.pdparams # \u4e0b\u8f7d\u4e52\u4e53\u7403\u6570\u636e\u96c6\u4e0a\u8bad\u7ec3\u597d\u7684\u6a21\u578b\nwget -P data/ https://videotag.bj.bcebos.com/Data/example_tennis.pkl # \u4e0b\u8f7d\u4e52\u4e53\u7403\u6837\u4f8b\u8f93\u5165\u89c6\u9891pkl\u6587\u4ef6\n```\n### \u5bfc\u51fa\u63a8\u7406\u6a21\u578b\n```\npython3.7 tools/export_model.py -c applications/TableTennis/ActionRecognition/configs/videoswin_tabletennis.yaml \\\n                                -p output/VideoSwin_TableTennis/VideoSwin_TableTennis_best.pdparams \\\n                                -o inference/VideoSwin_TableTennis\n```\n\u4e0a\u8ff0\u547d\u4ee4\u4f1a\u6839\u636e\u4f20\u5165\u7684`.pdparams`\u6a21\u578b\uff0c\u5728`inference/VideoSwin_TableTennis`\u6587\u4ef6\u5939\u4e0b\u751f\u6210\u63a8\u7406\u6a21\u578b\uff0c\u4e3b\u8981\u5305\u62ec3\u4e2a\u6587\u4ef6\uff1a`VideoSwin_TableTennis.pdiparams`\u3001`VideoSwin_TableTennis.pdmodel`\u3001`VideoSwin_TableTennis.info`"
        },
        {
            "comment": "Running prediction code with provided arguments will generate a gif file showing the video overlaid with predicted results (top 1 class and probability) in the results folder.\nThe model can be optimized based on video content, by adjusting sampling parameters like num_seg and seg_len or hyperparameters for training.",
            "location": "\"/media/root/Prima/works/PaddleVideo/docs/src/applications/TableTennis/ActionRecognition/README.md\":67-97",
            "content": "### \u4f7f\u7528\u63a8\u7406\u6a21\u578b\n\u6d4b\u8bd5\u6587\u4ef6\u4f7f\u7528`.pkl`\u6587\u4ef6\uff0c\u5176\u5305\u542b\u4e86\u5df2\u62bd\u53d6\u7684\u7528\u4e8e\u9884\u6d4b\u7684\u4e52\u4e53\u7403\u89c6\u9891\u5e27\u3002\n\u8fd0\u884c\u9884\u6d4b\u4ee3\u7801\n```bash\npython3.7 tools/predict.py --input_file data/example_tennis_7.pkl \\\n                           --config applications/TableTennis/ActionRecognition/configs/videoswin_tabletennis.yaml \\\n                           --model_file inference/VideoSwin_TableTennis/VideoSwin_TableTennis.pdmodel \\\n                           --params_file inference/VideoSwin_TableTennis/VideoSwin_TableTennis.pdiparams \\\n                           --use_gpu=True \\\n                           --use_tensorrt=False\n```\n\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\u4f1a\u4ea7\u51fa\u4e00\u4e2a\u539f\u89c6\u9891\u53e0\u52a0\u9884\u6d4b\u7ed3\u679c\u6587\u672c(Top1\u7c7b\u522b+\u6982\u7387)\u7684gif\u56fe\u7247\uff0c\u4fdd\u5b58\u5728\u672c\u76ee\u5f55\u7684results\u6587\u4ef6\u5939\u4e0b\uff0cgif\u6587\u4ef6\u540d\u4e0e\u8f93\u5165\u7684pkl\u6587\u4ef6\u540d\u76f8\u540c\u3002\n\u6548\u679c\u5982\u4e0b\u56fe\uff1a\n![example_7.gif](results/example_tennis_7.gif)\n## \u6a21\u578b\u4f18\u5316\n\u5728\u5b9e\u9645\u4f7f\u7528\u573a\u666f\u4e2d\u53ef\u6839\u636e\u89c6\u9891\u5185\u5bb9\u5c1d\u8bd5\u4f18\u5316\u7b56\u7565\n- \u53ef\u6839\u636e\u52a8\u4f5c\u6301\u7eed\u65f6\u95f4\u7684\u957f\u77ed\uff0c\u8c03\u6574\u91c7\u6837\u7684\u6bb5\u6570num_seg\u548c\u6bb5\u5185\u91c7\u6837\u7684\u5e27\u6570seg_len\n- \u53ef\u4ee5\u6839\u636e\u6570\u636e\u96c6\u5927\u5c0f\u8c03\u6574\u6a21\u578b\u8bad\u7ec3\u7684\u8d85\u53c2\u6570\uff0c\u5305\u62ec\u6743\u91cd\u8870\u51cf\u3001DropOut\u6982\u7387\u3001\u5b66\u4e60\u7387\u3001\u66f4\u6362\u4f18\u5316\u5668\u7b49\uff0c\u4ee5\u83b7\u5f97\u66f4\u4f18\u7684\u7ed3\u679c\u3002\n- \u672c\u4ee3\u7801\u7684backbone\u90e8\u5206\u53ef\u4ee5\u4f5c\u4e3a\u89c6\u9891\u7279\u5f81\u63d0\u53d6\u6a21\u5757\uff0c\u4ee3\u66ff\u5176\u5b83\u7684\u52a8\u4f5c\u8bc6\u522bbackbone\uff0c\u4ee5\u83b7\u5f97\u8868\u5f81\u80fd\u529b\u66f4\u5f3a\u7684\u89c6\u9891\u7279\u5f81\uff0c\u4ee5\u63d0\u5347\u6574\u4f53\u4efb\u52a1\u7684\u7cbe\u5ea6\u3002\n## \u6a21\u578b\u90e8\u7f72\nTODO\n## \u53c2\u8003\u8bba\u6587\n- [Video Swin Transformer](https://arxiv.org/pdf/2106.13230.pdf), Ze Liu, Jia Ning, Yue Cao, Yixuan Wei"
        }
    ]
}