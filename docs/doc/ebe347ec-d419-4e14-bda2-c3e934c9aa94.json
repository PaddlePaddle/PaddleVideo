{
    "summary": "The code installs TensorRT and sets up Go environment for PaddleVideo C++ serving, checking CUDA version, downloading SSL libraries, and installing necessary packages.",
    "details": [
        {
            "comment": "This script installs TensorRT based on the detected CUDA version, and installs necessary libraries for PaddleVideo. It checks the CUDA version, downloads the corresponding TensorRT package, extracts it to /usr/local, and copies relevant include and lib files to their respective directories. If no CUDA version is found, it displays a message stating no Cuda Found and no need to install TensorRT.",
            "location": "\"/media/root/Prima/works/PaddleVideo/docs/src/deploy/cpp_serving/paddle_env_install.sh\":0-21",
            "content": "unset GREP_OPTIONS\nfunction install_trt(){\n  CUDA_VERSION=$(nvcc --version | egrep -o \"V[0-9]+.[0-9]+\" | cut -c2-)\n  if [ $CUDA_VERSION == \"10.2\" ]; then\n    wget https://paddle-ci.gz.bcebos.com/TRT/TensorRT6-cuda10.2-cudnn7.tar.gz --no-check-certificate\n    tar -zxf TensorRT6-cuda10.2-cudnn7.tar.gz -C /usr/local\n    cp -rf /usr/local/TensorRT-6.0.1.8/include/*  /usr/include/ && cp -rf /usr/local/TensorRT-6.0.1.8/lib/* /usr/lib/\n    rm -rf TensorRT6-cuda10.2-cudnn7.tar.gz\n  elif [ $CUDA_VERSION == \"11.2\" ]; then\n    wget https://paddle-ci.gz.bcebos.com/TRT/TensorRT-8.0.3.4.Linux.x86_64-gnu.cuda-11.3.cudnn8.2.tar.gz --no-check-certificate\n    tar -zxf TensorRT-8.0.3.4.Linux.x86_64-gnu.cuda-11.3.cudnn8.2.tar.gz -C /usr/local\n    cp -rf /usr/local/TensorRT-8.0.3.4/include/* /usr/include/ && cp -rf /usr/local/TensorRT-8.0.3.4/lib/* /usr/lib/\n    rm -rf TensorRT-8.0.3.4.Linux.x86_64-gnu.cuda-11.3.cudnn8.2.tar.gz\n  else\n    echo \"No Cuda Found, no need to install TensorRT\"\n  fi\n}\nfunction env_install()\n{\n    apt install -y libcurl4-openssl-dev libbz2-dev"
        },
        {
            "comment": "This code is installing necessary packages and setting up Go environment for PaddleVideo C++ serving. It downloads SSL libraries, installs Go 1.15.12, sets GOROOT and GOPATH variables, and installs the trt package.",
            "location": "\"/media/root/Prima/works/PaddleVideo/docs/src/deploy/cpp_serving/paddle_env_install.sh\":22-34",
            "content": "    wget https://paddle-serving.bj.bcebos.com/others/centos_ssl.tar && tar xf centos_ssl.tar && rm -rf centos_ssl.tar && mv libcrypto.so.1.0.2k /usr/lib/libcrypto.so.1.0.2k && mv libssl.so.1.0.2k /usr/lib/libssl.so.1.0.2k && ln -sf /usr/lib/libcrypto.so.1.0.2k /usr/lib/libcrypto.so.10 && ln -sf /usr/lib/libssl.so.1.0.2k /usr/lib/libssl.so.10 && ln -sf /usr/lib/libcrypto.so.10 /usr/lib/libcrypto.so && ln -sf /usr/lib/libssl.so.10 /usr/lib/libssl.so\n    rm -rf /usr/local/go && wget -qO- https://paddle-ci.gz.bcebos.com/go1.15.12.linux-amd64.tar.gz | \\\n    tar -xz -C /usr/local && \\\n    mkdir /root/go && \\\n    mkdir /root/go/bin && \\\n    mkdir /root/go/src && \\\n    echo \"GOROOT=/usr/local/go\" >> /root/.bashrc && \\\n    echo \"GOPATH=/root/go\" >> /root/.bashrc && \\\n    echo \"PATH=/usr/local/go/bin:/root/go/bin:$PATH\" >> /root/.bashrc\n    install_trt\n}\nenv_install"
        }
    ]
}